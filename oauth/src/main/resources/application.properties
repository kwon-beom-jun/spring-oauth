
# ------------------------------------------------------
# âœ… ì¼ë°˜ ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸ (Username/Password ë°©ì‹)
# ------------------------------------------------------
# 1ï¸ ë¸Œë¼ìš°ì €ì—ì„œ ë¡œê·¸ì¸ í˜ì´ì§€ ì ‘ì†
#   ğŸ”— URL: [http://localhost:8080/auth/login-page](http://localhost:8080/auth/login-page)  
#   - ë˜ëŠ” **POST ìš”ì²­**ìœ¼ë¡œ ì§ì ‘ ë¡œê·¸ì¸ (`/auth/login` ì‚¬ìš©)
#
# 2ï¸ ì•„ì´ë””/ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í›„ ë¡œê·¸ì¸ ì‹œë„  
#   - ì˜ˆì œ ê¸°ë³¸ ê³„ì • (ì´ˆê¸° ë°ì´í„°, `DataInitializer.java` ì°¸ê³ )
#     - **ID**: `testuser`
#     - **ë¹„ë°€ë²ˆí˜¸**: `1234`
#   - ë§Œì•½ `testpass` ê°™ì€ ë‹¤ë¥¸ ê°’ìœ¼ë¡œ ë³€ê²½í–ˆë‹¤ë©´, ì…ë ¥ ì‹œ ì£¼ì˜!
#
# 3ï¸ ë¡œê·¸ì¸ ì„±ê³µ í›„ JWT ë°œê¸‰ í™•ì¸  
#   ğŸ”— URL: [http://localhost:8080/auth/token](http://localhost:8080/auth/token)  
#   - ë¡œê·¸ì¸ ì„¸ì…˜ì´ ìœ ì§€ëœ ìƒíƒœë¼ë©´, JWTê°€ ë¸Œë¼ìš°ì € í™”ë©´ì— í‘œì‹œë¨  
#   - **ì½˜ì†” ë¡œê·¸ì—ë„ "Generated JWT: ..." í˜•íƒœë¡œ JWT ì¶œë ¥ë¨**
#
# ğŸ“Œ **ì¶”ê°€ ì •ë³´**:  
#   - JWTë¥¼ **API í˜¸ì¶œ ì‹œ í—¤ë”ì— í¬í•¨**í•˜ì—¬ ë³´ë‚¼ ìˆ˜ë„ ìˆìŒ (`Authorization: Bearer <JWT>`)  
#   - `SecurityConfig`ì—ì„œ JWT í•„í„°ë¥¼ ì¶”ê°€í•˜ë©´ ìë™ ì¸ì¦ ê°€ëŠ¥  
#   - ë¡œê·¸ì•„ì›ƒ ì‹œ `/auth/logout` ì—”ë“œí¬ì¸íŠ¸ë¥¼ í˜¸ì¶œí•˜ë©´ ì„¸ì…˜ì´ ë§Œë£Œë¨


# ------------------------------------------------------
# âœ… Google OAuth2 ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸
# ------------------------------------------------------
# 1ï¸ ë¸Œë¼ìš°ì €ì—ì„œ Google OAuth2 ë¡œê·¸ì¸ ì‹œì‘  
#   ğŸ”— URL: [http://localhost:8080/oauth2/authorization/google](http://localhost:8080/oauth2/authorization/google)
#
# 2ï¸ êµ¬ê¸€ ê³„ì • ì„ íƒ â†’ ì¸ì¦ ì™„ë£Œ â†’ ìë™ìœ¼ë¡œ ë¡œê·¸ì¸ ì„¸ì…˜ ìƒì„±ë¨  
#   - OAuth2 ì¸ì¦ì´ ì™„ë£Œë˜ë©´ ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ê°€ ìë™ìœ¼ë¡œ ì„¸ì…˜ì„ ìƒì„±í•˜ì—¬ ìœ ì§€
#
# 3ï¸ ë¸Œë¼ìš°ì €ì—ì„œ JWT ë°œê¸‰ í™•ì¸  
#   ğŸ”— URL: [http://localhost:8080/auth/token](http://localhost:8080/auth/token)  
#   - ë¡œê·¸ì¸ ì„¸ì…˜ì´ ìœ ì§€ëœ ìƒíƒœë¼ë©´ JWTê°€ ë¸Œë¼ìš°ì € í™”ë©´ì— í‘œì‹œë¨  
#   - **ì½˜ì†” ë¡œê·¸ì—ë„ "OAuth2 Token Generated: ..." í˜•íƒœë¡œ JWT ì¶œë ¥ë¨**
#
# ğŸ“Œ **ì¶”ê°€ ì •ë³´**:  
#   - OAuth2 ì‚¬ìš©ì ì •ë³´ë¥¼ **DBì˜ UserDetailsì™€ ë§¤í•‘í•˜ë ¤ë©´**, `SecurityConfig`ì—ì„œ Principal ë³€í™˜ ë¡œì§ ì¶”ê°€  
#   - ë˜ëŠ” **OAuth2UserService** êµ¬í˜„ í›„ ì‚¬ìš©ì ì •ë³´ë¥¼ DBì— ì €ì¥í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ í™•ì¥ ê°€ëŠ¥


# ------------------------------------------------------
# âœ… ë¡œê·¸ì•„ì›ƒ í…ŒìŠ¤íŠ¸
# ------------------------------------------------------
# 1. http://localhost:8080/logout ìš”ì²­
# 2. ì„¸ì…˜ ë§Œë£Œ í›„ /login í˜ì´ì§€ í˜¹ì€ ë³„ë„ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
# 3. ì´í›„ ë‹¤ì‹œ http://localhost:8080/auth/token ì— ì ‘ê·¼ ì‹œ
#    - ì¸ì¦ ì„¸ì…˜ì´ ì—†ìœ¼ë¯€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ ë˜ëŠ” 401(Unauthorized)
# ------------------------------------------------------

spring.application.name=oauth
server.port=8080

# PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
spring.datasource.url=jdbc:postgresql://localhost:5432/centgate
spring.datasource.username=centgate
spring.datasource.password=123
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA ì„¤ì •
spring.jpa.hibernate.ddl-auto=create
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# -----------------------------------------------------------------
# Google OAuth2 ì„¤ì •
# -----------------------------------------------------------------
# ì‹¤ì œ êµ¬ê¸€ í´ë¼ì´ì–¸íŠ¸ IDì™€ ë¹„ë°€ë²ˆí˜¸(Secret)ë¡œ êµì²´í•˜ì„¸ìš”
# Google Cloud ì ‘ì† > ì½˜ì†” > í•´ë‹¹ í”„ë¡œì íŠ¸ì˜ API ë° ì„œë¹„ìŠ¤ > ì‚¬ìš©ì ì¸ì¦ ì •ë³´ 
#	> OAuth 2.0 í´ë¼ì´ì–¸íŠ¸ì—ì„œ í•´ë‹¹ IDì˜ ì´ë¦„ í´ë¦­ > Additional informationì˜ í´ë¼ì´ì–¸íŠ¸ ID, í´ë¼ì´ì–¸íŠ¸ ë³´ì•ˆ ë¹„ë°€ë²ˆí˜¸
spring.security.oauth2.client.registration.google.client-id=
spring.security.oauth2.client.registration.google.client-secret=

# í•„ìš”í•œ ë²”ìœ„ ì„¤ì •
spring.security.oauth2.client.registration.google.scope=email, profile

# Google í‘œì¤€ ë¦¬ë””ë ‰ì…˜ URI
spring.security.oauth2.client.registration.google.redirect-uri={baseUrl}/login/oauth2/code/google

# OAuth2 ì¸ì¦ ìš”ì²­ì„ ë³´ë‚´ëŠ” ì—”ë“œí¬ì¸íŠ¸
# ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ì„ ì‹œë„í•˜ë©´, ë¸Œë¼ìš°ì €ê°€ ì´ URLë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
# êµ¬ê¸€ì˜ OAuth ì¸ì¦ í˜ì´ì§€ì—ì„œ ì‚¬ìš©ìì˜ ë™ì˜ë¥¼ ë°›ìœ¼ë©´, redirect_uriì— ì§€ì •ëœ URLë¡œ ì¸ê°€ ì½”ë“œ(authorization code)ë¥¼ ë°˜í™˜
spring.security.oauth2.client.provider.google.authorization-uri=https://accounts.google.com/o/oauth2/auth
# ì¸ê°€ ì½”ë“œë¥¼ ì•¡ì„¸ìŠ¤ í† í°ìœ¼ë¡œ êµí™˜í•˜ëŠ” ì—”ë“œí¬ì¸íŠ¸
# ì¸ê°€ ì½”ë“œê°€ ìˆìœ¼ë©´ ì´ URLë¡œ POST ìš”ì²­ì„ ë³´ë‚´ì„œ ì•¡ì„¸ìŠ¤ í† í°ê³¼ ë¦¬í”„ë ˆì‹œ í† í°ì„ ë°›ìŒ
# ìš”ì²­ ì‹œ í¬í•¨ë˜ëŠ” íŒŒë¼ë¯¸í„°:
# 	grant_type=authorization_code
# 	code=<ì¸ê°€ ì½”ë“œ>
# 	redirect_uri=<ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë¦¬ë””ë ‰íŠ¸ URI>
# 	client_id=<í´ë¼ì´ì–¸íŠ¸ ID>
# 	client_secret=<í´ë¼ì´ì–¸íŠ¸ ë¹„ë°€ í‚¤>
spring.security.oauth2.client.provider.google.token-uri=https://oauth2.googleapis.com/token
#í† í°ì„ ì´ìš©í•´ ì‚¬ìš©ì ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì—”ë“œí¬ì¸íŠ¸
#ì•¡ì„¸ìŠ¤ í† í°ì„ í¬í•¨í•˜ì—¬ ì´ URLë¡œ ìš”ì²­í•˜ë©´, ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ë°˜í™˜
#ì¼ë°˜ì ìœ¼ë¡œ ë°˜í™˜ë˜ëŠ” ì‚¬ìš©ì ì •ë³´:
#	sub: ì‚¬ìš©ì ê³ ìœ  ID
#	name: ì´ë¦„
#	email: ì´ë©”ì¼ ì£¼ì†Œ
#	picture: í”„ë¡œí•„ ì‚¬ì§„
spring.security.oauth2.client.provider.google.user-info-uri=https://www.googleapis.com/oauth2/v3/userinfo
spring.security.oauth2.client.provider.google.user-name-attribute=sub
# Sub ëŒ€ì‹  Emailì„ ì‚¬ìš©í• ë•Œ
# spring.security.oauth2.client.provider.google.user-name-attribute=email

# -----------------------------------------------------------------
# Kakao OAuth2 ì„¤ì •
# -----------------------------------------------------------------

# â¡ ì¹´ì¹´ì˜¤ ê°œë°œì ì„¼í„° > ë‚´ ì• í”Œë¦¬ì¼€ì´ì…˜ > [ê³ ê¸‰ ì„¤ì •] > [í—ˆìš© IP ì£¼ì†Œ]
#	ì´ ì„¤ì •ì€ "REST APIë¥¼ ì‚¬ìš©í•˜ëŠ” ì„œë²„ì˜ IP ì£¼ì†Œë¥¼ ì§€ì •í•˜ì—¬, íŠ¹ì • IPë§Œ API í˜¸ì¶œì„ í—ˆìš©í•  ê²ƒì¸ê°€?" ë¥¼ ê²°ì •í•˜ëŠ” ë³´ì•ˆ ê¸°ëŠ¥
#	â— ê¸°ë³¸ì ìœ¼ë¡œ ì´ ì„¤ì •ì„ ì•ˆ í•´ë„ ì •ìƒ ì‘ë™
#	ë‹¤ë§Œ, ì„¤ì •í•˜ë©´ ì§€ì •í•œ IPì—ì„œë§Œ API ìš”ì²­ì„ í—ˆìš©í•˜ëŠ” ì œí•œì´ ìƒê¹€
#	(ì˜ˆ: íšŒì‚¬ ì„œë²„ì—ì„œë§Œ APIë¥¼ í˜¸ì¶œ ê°€ëŠ¥í•˜ê²Œ ì„¤ì •)
# âœ… í—ˆìš© IP ì£¼ì†Œë¥¼ ì„¤ì •í•˜ë©´?
#	ì¹´ì¹´ì˜¤ API(íŠ¹íˆ í† í° ìš”ì²­, ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ ë“±)ì— ëŒ€í•œ ìš”ì²­ì„ ë“±ë¡ëœ IPì—ì„œë§Œ í—ˆìš©í•¨
#	ë“±ë¡ë˜ì§€ ì•Šì€ IPì—ì„œ ìš”ì²­í•˜ë©´ 403 Forbidden ì—ëŸ¬ ë°œìƒ
#	ì¦‰, íšŒì‚¬ ì„œë²„ ë˜ëŠ” íŠ¹ì • VPCì—ì„œë§Œ API ìš”ì²­ ê°€ëŠ¥í•˜ê²Œ ì œí•œ ê°€ëŠ¥
# ğŸš« í—ˆìš© IP ì£¼ì†Œë¥¼ ì„¤ì •í•˜ì§€ ì•Šìœ¼ë©´?
#	ì–´ë””ì„œë“  API ìš”ì²­ ê°€ëŠ¥ (ê¸°ë³¸ê°’)
#	ì¦‰, ëª¨ë“  í´ë¼ì´ì–¸íŠ¸(ì„œë²„, ë¡œì»¬ ê°œë°œ í™˜ê²½ í¬í•¨)ì—ì„œ ì¹´ì¹´ì˜¤ APIë¥¼ í˜¸ì¶œ ê°€ëŠ¥

# ë‚´ ì• í”Œë¦¬ì¼€ì´ì…˜ > ì•± ì„¤ì • > ì•± í‚¤
spring.security.oauth2.client.registration.kakao.client-id=
# ë‚´ ì• í”Œë¦¬ì¼€ì´ì…˜ > ì œí’ˆ ì„¤ì • > ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ > ë³´ì•ˆ
spring.security.oauth2.client.registration.kakao.client-secret=
# ì¹´ì¹´ì˜¤ëŠ” ë³´í†µ 'REST API í‚¤' + 'ì‹œí¬ë¦¿'ì„ í•¨ê»˜ ì“°ê¸°ë„ í•˜ì§€ë§Œ, ì‹¤ì œ ì•± ì„¤ì •ì—ì„œ secretì„ ì‚¬ìš©í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆìŒ.
# ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ client-secret í•­ëª©ì„ ë¹¼ê±°ë‚˜ ë¹„ì›Œë‘ì‹œë©´ ë©ë‹ˆë‹¤.

# ì¹´ì¹´ì˜¤ì˜ Redirect URI (ì¹´ì¹´ì˜¤ ê°œë°œì ì„¼í„°ì— ë“±ë¡í•œ ê²ƒê³¼ ë™ì¼í•´ì•¼ í•¨)
# ë‚´ ì• í”Œë¦¬ì¼€ì´ì…˜ > ì œí’ˆ ì„¤ì • > ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸
spring.security.oauth2.client.registration.kakao.redirect-uri={baseUrl}/login/oauth2/code/kakao

# ë™ì˜ë°›ì„ scope (í”„ë¡œí•„, ì´ë©”ì¼ ë“±)
# ë‚´ ì• í”Œë¦¬ì¼€ì´ì…˜ > ì œí’ˆ ì„¤ì • > ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ > ë™ì˜í•­ëª© : í•´ë‹¹ ì„¤ì •ê³¼ ì¼ì¹˜í•´ì•¼í•¨
spring.security.oauth2.client.registration.kakao.scope=profile_nickname,profile_image,account_email

# client_secret_basic
#	ê¸°ë³¸ ì¸ì¦(Basic Auth) í—¤ë”ë¥¼ ì‚¬ìš©
#	Authorization: Basic base64(client_id:client_secret) í˜•íƒœë¡œ ì „ì†¡
# client_secret_post
#	POST ë°”ë””(application/x-www-form-urlencoded)ì— client_secretì„ í¬í•¨í•˜ì—¬ ì „ì†¡
#	ì˜ˆì‹œ)
#		grant_type=authorization_code
#		code=xxx
#		client_id=xxx
#		client_secret=xxx
# none
#	í´ë¼ì´ì–¸íŠ¸ ì‹œí¬ë¦¿ ì—†ì´ ì§„í–‰ (ì˜ˆ: Public Client, ëª¨ë°”ì¼ì•± ë“±)
#
# âœ… ë‚´ìš©
#	ì¹´ì¹´ì˜¤ê°€ ê¸°ëŒ€í•˜ëŠ” ë°©ì‹ì€ client_secret_post
#	ì¼ë°˜ì ìœ¼ë¡œ êµ¬ê¸€, ê¹ƒí—ˆë¸Œ ê°™ì€ ë§ì€ OAuth2 ì œê³µìë“¤ì€ client_secret_basic ë°©ì‹ì„ ì“°ê±°ë‚˜,
#	ë‘˜ ë‹¤(client_secret_basic, client_secret_post)ë¥¼ ì§€ì›í•˜ëŠ” ê²½ìš°ê°€ ë§ìŒ
#	
#	ê·¸ëŸ¬ë‚˜ ì¹´ì¹´ì˜¤ëŠ” â€˜client_secretâ€™ì„ í—¤ë”ê°€ ì•„ë‹ˆë¼ POST ë°”ë””ì— ë‹´ê¸°ë¥¼ ê¸°ëŒ€í•˜ëŠ” ê²½ìš°ê°€ ëŒ€ë¶€ë¶„
#	
#	ì¦‰, ì¹´ì¹´ì˜¤ ê°œë°œì ì„¼í„°ì˜ ë¬¸ì„œì—ë„ â€œclient_secretì€ ìš”ì²­ ë°”ë””ë¡œ ì „ë‹¬â€ ì˜ˆì‹œê°€ ë‚˜ì™€ìˆìŒ
#	ë§Œì•½ ì¹´ì¹´ì˜¤ ìª½ì—ì„œ â€œë³´ì•ˆ â†’ Client Secret í™œì„±í™”â€ë¥¼ ì¼œë‘ì—ˆë‹¤ë©´,
#	ì´ client_secret ê°’ì„ ë³´ë‚´ì§€ ì•Šê±°ë‚˜, ì˜ëª»ëœ ë°©ì‹(í—¤ë”)ì„ ì“°ë©´ ì¸ì¦ì´ ì‹¤íŒ¨(401) í•¨.
#	ë”°ë¼ì„œ, ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ê°€ ê¸°ë³¸ìœ¼ë¡œ client_secret_basic(í—¤ë” ë°©ì‹)ìœ¼ë¡œ ë™ì‘í•˜ë©´,
#	ì¹´ì¹´ì˜¤ëŠ” ì´ë¥¼ ì¸ì •í•˜ì§€ ì•Šê³  401ì„ ë°˜í™˜í•  ìˆ˜ ìˆìŒ
#	"ë‚˜ëŠ” ë°”ë””ì— ë‹´ê¸´ client_secretì„ ì°¾ì•„ì•¼ í•˜ëŠ”ë°, í—¤ë”ë¡œ ì™”ë„¤? â†’ ê±°ë¶€"
spring.security.oauth2.client.registration.kakao.client-authentication-method=client_secret_post
spring.security.oauth2.client.registration.kakao.authorization-grant-type=authorization_code

# Provider URL (ì¹´ì¹´ì˜¤ OAuth2 Endpoints)
spring.security.oauth2.client.provider.kakao.authorization-uri=https://kauth.kakao.com/oauth/authorize
spring.security.oauth2.client.provider.kakao.token-uri=https://kauth.kakao.com/oauth/token
spring.security.oauth2.client.provider.kakao.user-info-uri=https://kapi.kakao.com/v2/user/me

# ì¹´ì¹´ì˜¤ì˜ userNameAttribute (ê¸°ë³¸ì ìœ¼ë¡œ 'id' ë¼ëŠ” í•„ë“œë¥¼ ì‹ë³„ìë¡œ ì‚¬ìš©)
spring.security.oauth2.client.provider.kakao.user-name-attribute=id


# -----------------------------------------------------------------
# JWT ê´€ë ¨ ì„¤ì •
# -----------------------------------------------------------------
# ì‹¤ì œ ìš´ì˜ ì‹œì—ëŠ” ë³„ë„ ë³´ì•ˆ vaultë‚˜ í™˜ê²½ë³€ìˆ˜ë¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì„ ê¶Œì¥
jwt.secret=THIS_IS_SECRET_KEY_FOR_JWT_1234567890
# 1ì‹œê°„(ë°€ë¦¬ì´ˆ ê¸°ì¤€)
jwt.expiration=3600000


# -----------------------------------------------------------------
# ë¡œê·¸ ì„¤ì •
# -----------------------------------------------------------------
#logging.level.org.springframework.security=DEBUG
#logging.level.org.springframework.web=DEBUG
#logging.level.org.springframework.security.oauth2=DEBUG





